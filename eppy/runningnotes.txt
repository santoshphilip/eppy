rsync -av --exclude=".*" eplusinterface_diagrams/ ./eppy_0_4_0 # leave this line at top

2017-10-08
----------
now in branch i170_develop
for issue #170
install using:
pip install https://github.com/santoshphilip/eppy/archive/i170_develop.zip
test on mac:
- python2
    - failed 
    - update pip
    - failed again
    - update setuptools
    - sucess
- python3
    - export VIRTUALENV_PYTHON=/usr/local/bin/python3
    - pyvenv ~/venvs/py3_i170_develop
    - source ~/venvs/py3_i170_develop/bin/activate
    - pip install https://github.com/santoshphilip/eppy/archive/i170_develop.zip
    - failed
    - upgrade setuptools
    - failed
    - upgrade pip
- ubuntu python3
    - pip install https://github.com/santoshphilip/eppy/archive/i170_develop.zip
    - failed - could not build pydot3k - but claims it was installed
    - pip install pydot3k - same message
    


2017-05-25
----------
slash and burn on i116_slashandburn
remove dfunct functions to improve coverage.

files to save and move:
- simplesurface.py
- usefulscripts/

2016-07-20
----------
documentation for changes in IDF.idd_info and other stuff;
- IDF.idd_index
- embedded data in IDF.idd_info
    zone = idf.idfobjects['ZONE'][0]
    zone.idf > access to the idf
    zone.objidd[0] has new keys
        - group, idfobj
    window = idf.idfobjects['WINDOW'][0]
    window.getfieldidd('Construction_Name') will give
        {u'field': [u'Construction Name'],
         u'note': [u'To be matched with a construction in this input file'],
         u'object-list': [u'ConstructionNames'],
         u'validobjects': {u'CONSTRUCTION',
          u'CONSTRUCTION:CFACTORUNDERGROUNDWALL',
          u'CONSTRUCTION:COMPLEXFENESTRATIONSTATE',
          u'CONSTRUCTION:FFACTORGROUNDFLOOR',
          u'CONSTRUCTION:INTERNALSOURCE',
          u'CONSTRUCTION:WINDOWDATAFILE'},
         u'required-field': [u''],
         u'type': [u'object-list']}
    validobjects -> is a new key
    


2016-07-07
----------
further thought from get_referenced_object
- do get_referable_objects -> gets all the objects that can be referred 
- wall.getfunctions -> return the functions specific to wall
- safeguard for name-clash in EpBunch.
    - can be done by having all functions start with a suffix get_ , f_ ,
    - aslo run a check when EpBunch is initiated. 
- get_referenced_object is a geeky functions. Most users will need something more specific with the most commonly used ones. 
        - Wall.belongsto or wall.parent
        - surface.belongsto or surface.parent
        - (might be good to have users have the ability to add functions)

2016-07-06
----------
review bunch_subclass.get_referenced_object
some syntactic sugar is possible - DONE

2016-06-28
----------
parse the idd to gather all the relationships between 'object-list' and 'reference'. write specific functions for all the refs - DONE in ./docs/temp3.py

2016-06-26
----------
in branch i102_mseq_idf.
remove the setting of epbunch.idf in all places.
set it when it is __set__ into Idf_MSequence
Idf_MSequence will need a varaible theidf
steps:
- remove all setting of idf in epbunch.idf 
    - remove the arg from __init__ DONE
    - it will be set to None in the __init__ DONE
- it should be set in Idf_MSequence DONE

2016-06-24
----------
epbunch.theidd - when does theidd have to be chnaged
- when epbunch is copied to a new idf
- when epbunch is removed form an idf file
- when a new epbunch is created in an idf
- when an epbunch is added to an idf
possibly if this is done in Idf_MSequence, all of it will be automatically taken care of. - DONE


2016-06-20
----------
write a script that will track all the references from the idd_info.
look at this to see what function must be written to wrap over getreferingobjs

- open an issue for all this code.

write function to return all the surfaces of a zone
This is a generic problem in eppy:
- return all the subsurfaces of a surface
- return all the objects that use a schedule
- etc

So write a more generic function that will work with 'object-list' and 'reference' (as described in the idd file)


2016-06-19
----------
TODO : remove self.idd_groups from IDF - DONE
abstraction of getzonesurfaces() - DONE

referredobj 

referringobjs = []
referedobj has: -> Name
                -> reference    
for each obj in idf: 
[optional filter -> objects in iddgroup]
    each field of obj:
    [optional filter -> field in fieldlist]
        has object-list [refname]:
            if refname in reference:
                if Name = field value:
                    referringobjs.append() 



def getreferingobjs(referedobj, iddgroups=None, fields=None):
    referringobjs = []
    idf = referedidd.theidf
    referedidd = referedobj.getidd(Name)
    references = referedidd['references']
    idfobjs = idf.idfobjects.values()
    idfobjs = list(itertools.chain.from_iterable(values)) # flatten list
    if iddgroups: # optional filter
        idfobjs = [anobj for anobj in idfobjs 
            if anobj.getidd('key')['group'] in iddgroups]
    for anobj in idfobjs:
        if not fields:
            fields = anobj.objls
        for field in fields:
            itsidd = anobj.getidd(field)
            if itsidd.has_key('object-list'):
                refname = itsidd['object-list']
                if refname in references:
                    if referedobj.isequal('Name', anobj[field]):
                        referringobjs.append(anobj)
    return referringobjs
        
args = referedobj

def getrefereingobjs(referedobj):
    
referedidd = referedobj.getidd(Name)
references = referedidd['references']
referringobjs = [idfobj for idfobj in idf]
if iddgroup:
    referringobjs = [idfobj for idfobj in referringobjs if idfobj in iddgroup]
referringobjs = [idfobj for idfobj in referringobjs isrefering(idfobj)]

def isrefering(anobj):
    if not fields:
        fields = anobj.iddls
    for field in fields:
        itsidd = anobj.getidd(field)
        try:
            refname = itsidd['object-list']
            if refname in references:
                return True
        except KeyError as e:
            return False

2016-06-13
----------
write code to get the list of zone surfaces. - DONE
abstract this into generic code. 

2016-06-11
----------
- idd2groups is built and tested
- groups are embedded into commdct
- extract glist from commdct - DONE

maybe do the following:
    - now explore idd_parse to understand what it is doing. 
    - maybe use this as a way to rebuild parse_idd.extractidddata
    - call "block" -> "field"


2016-06-03
----------
access the idf in epbunch - DONE
trace surfaces of walls.
    - reference give another name for key.
        to find a reference, search all key.Name.reference
would be nice to do 
    - wall.Name.idd['reference']
    - OR -> wall.getidd(fieldname)['reference']
wall.Zone_Name.idd['object-list'] -> ZoneNames
search
    [value[0]. for key, value in idfobjects.items() if len(value) != 0]
refname2key(idf, refname)

- would be nice to have the group data in idd_info
    - either put it into the idddata
    or
    - have a separate data structure
- without the group data, the relavant lists have to be made by hand
- make a new branch to test this ?
- branch - brazil_iddgroups
data structure
{'group 1 name':[k1, k2, k3, k4], 'grout2':[k5, k6, k7], }
{k1:g1, k2:g2, k3:g3}
OR
objidd = [{"group":"gname", ...}, {... }, ....]

idd2groups is built - now where do I use it ?    




2015-07-22
----------
Notes for Eric.
git checkout develop
git branch dtemp
git checkout dtemp
-
- put MIT license in new files
- added some imports from __future__
- ran 2t03 conversions
- added test_height_surface.py
- ran pylint on new files (except tinynumpy)
    - Eric, run pylint on test_tinydnarray



2015-05-26
----------
Have a toggle that can force the line endings
idf.save(lineendings='default')
idf.saveas(fname, lineendings='default')

2014-08-05
----------
eppy can read fields dos path names with backslash '\' 
2014-08-04
----------
ran test for checking if eppy is reading all example files.
on a mac under EnergyPlus-8-1-0, the following files failed the read:

- 12 False 4ZoneWithShading_Simple_1.idf
- 13 False 4ZoneWithShading_Simple_2.idf
the above two files used a keyword "End Lead Input" 
the keyword was not in the IDD file. So it failed

- 168 False EMSUserDefined5ZoneAirCooled.idf
- 169 False EMSUserDefinedWindACAuto.idf
- 225 False HospitalBaselineReheatReportEMS.idf
- 355 False RetailPackagedTESCoil.idf
the above 4 files used extended fields
while testing the idd did not have the extended fields
So they failed

2013-12-21
----------
on testing with issue13 updates, ony three files could not be read:
['./issue13/LookupTables.idf', 
    './issue13/RefrigeratedWarehouse.idf',
    './issue13/RetailPackagedTESCoil.idf']
this is because they have the object "TABLE:MULTIVARIABLELOOKUP" 
This object can be read in version 8.1 onwards.
Now the code will have to check the version :-( for backward compatibility
How and where can I do that.
2013-12-20
----------
issue 13
see slashcomment.py
fixed by change in parse_idd
test by converting files in example set and comaring input and output.
Do this using master and branch issue13
2013-12-11
----------
working towards release 0.4.5
- update the fixed idd file version 8.
- update docs for new changes
- include function docs in sphinx
- release on git hub and on pypi


2013-10-03
----------
l = [1,2,3]
pop -> popidfobject(index)
remove -> removeidfobject(idfobject)
append -> appendidfobject(idfobject)
newidfobject(key) will append a brand new idf object

2013-10-02
----------
EpBunch.area does not pass an arg to the function.
How can I pass an arg to the function. - DONE
    for example EpBunch.checkrange(fieldname)

2013-09-25
----------
update by stephan

2013-09-24
----------
pytest will go above the last folder with __init__.py for an import
This will make the imports work correctly.

2013-09-21
----------
keep the remaining docs (loops and readhtml)
focus on development. 

2013-09-21
----------
made branch -> almost_master
This shouuld really be master, but I am not sure.
made brancch -> develop (made it now)
All development should be done here

2013-09-21
----------
notes on overriding list
- __add__ override ?
- __delattr__ remove some attributes ?
- __delitems__ overide ?
- __overide __delslce__ ?
- __iadd__ override?
- __mul__ override ?
- __setitem__ overide ?
- __setslice__ overide ?

2013-09-19
----------
TODO 
- tutorial for condensor loop and airside loop
- seperate tutorial on readhtml
- nedd a function that will do:
	idf.idfobjects[key].pop(0)
- 
- articulate the thinking on the software orgainzation.
	- the core code deals only with objects and fields
	- readhtml is a seperate package (for output reading)
	- buildhvac would be a seperate package
	-
	- these packages would have seperate tutorials



2013-09-03
----------
try import numpy
exception error message

pyparsing: give path name to 1.5 version

ex_loopdiagram.py does not do ideal loads systems - worth including this
2013-09-01
----------
Try to use this to work on a real project
branch to frog_impact

for sphinx:
- make html # I need to get the docs to go t a specific folder.

add to docstring:
- IDF class variables to be documented in the doc string.
- EpBunch variables also to be documented in doc string
2013-08-31
----------
registered at PyPi
- works with pip install eppy
needs a lot of fixes:
- tutorial is not current

.pypirc
[server-login]
username: santoshphilip
password: *********

from <http://www.jeffknupp.com/blog/2013/08/16/open-sourcing-a-python-project-the-right-way/>
python setup.py register
python setup.py sdist upload

2013-08-25
----------
- don't add any enhancements to code
- get this ready for release
- work a bit on coverage
- get tests working from setup.py test
- do documentation from sphinx
- do readthedocs
- finally use cookie cutter
2013-08-25
----------
used test coverage from
http://www.jeffknupp.com/blog/2013/08/16/open-sourcing-a-python-project-the-right-way/
need to follow up on this long term.

2013-07-21
----------
For graphs see
http://bl.ocks.org/mbostock/4015254
2013-07-21
----------
windows virtual install
- pip install virtualenv
- pip install virtualenvwrapper-win
2013-07-03
----------
copy an object from within the idf
copy an object from another idef
2013-06-21
----------
update all ex_*.py files to using IDF
or
archive them and make IDF using files
- do rename
- update the print
- update docs
- 
2013-06-11
----------
- build a branch with a list of components -> close to done -> DONE
- replace existing branch with new branch -> close to done -> DONE
-
- link to commdct in epbunch -> DONE
2013-05-31
----------
rname the repository into eppy
branch master into eplus_diagrams
eppy branch is default
make eppybranch the mastert
2013-05-27
----------
back to hvac loops
- need to make a pipe component in hvacbuilder.makeplantloop - DONE
2013-05-26
----------
I think d_newread.py is working. 
Reads idd only once.
    from fhandle and filename
put idd in a module and try to do pytests with that, reading the idd only once.
    DONE
2013-05-12
----------
IIDF now reads idd only once
it works with iddfilename, but not with iddfilehandle :-(
see d_newread.py
compare theidd (from readidf.readdatacommdct) in d_newread.py and d_filehandle.py
2013-05-09
----------
- IDF.setiddname(fhandle)
    this is failing because, fhandle is getting exhausted
    fhandle should get used only once. - how to do this ?
moke the pipe objects.
check if a new object can be made with named arguments. DONE
- fix the pytest that read a file
2013-05-08
----------
- fix makeplantloop to have make objects.
- make IDF.newidfobject with 


when you rename nodes do:
obj.nodefield = [oldnodename, newodename]
Then you can find the occurance of the old names in other places.

node rename
- exception at loop endpoints.
- How to identify them.
updatebranch(loop, branch, [c1, c2, c3, c4])
getinletname(loop, branch, c1) -> maybe None
getoutletname(loop, branch, c1) -> maybe None
do standard node name change
If None:
    replace that nodename
else:
    pass
    
    
2013-05-05
----------
branch
[] -> [p0]

[p0] -> [p1]
[p0] -> [p0, p1]
[p0] -> [p1, p0]

[p0, p1] -> [pn, p1]
[p0, p1] -> [p0, pn]
[p0, p1] -> [pn, p0, p1]
[p0, p1] -> [p0, p1, pn]
[p0, p1, p2] -> [p0, pn, p1, p2]

OR

replace the contents of the branch with a new list of components
[pump, chiller, coil] -> these items are EpBunch objects.
two options:
- rename all the nodes logically. 
    - 
    Problem is that nodes may be referred to at the controls. 
